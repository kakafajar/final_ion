
<ion-content class="ion-padding">

  <!-- Search Bar -->
    <ion-searchbar 
      placeholder="Search your food" 
      animated 
      (ionInput)="filterItems($event)">
    </ion-searchbar>
  <!-- Dine In Section -->
  <ion-card>
    <ion-card-content class="ion-text-center">
      <ion-icon name="restaurant" size="large"></ion-icon>
      <h2>DINE IN</h2>
    </ion-card-content>
  </ion-card>

  <!-- Menu Tabs -->
<ion-segment [(ngModel)]="selectedCategory" (ionChange)="onCategoryChange($event)" scrollable>
  <ion-segment-button value="special">SPECIAL</ion-segment-button>
  <ion-segment-button value="combo">COMBO</ion-segment-button>
  <ion-segment-button value="nasi">NASI GORENG</ion-segment-button>
  <ion-segment-button value="mie">MIE</ion-segment-button>
</ion-segment>

<!-- Semua Section ditampilkan langsung -->

<!-- SPECIAL -->
<ion-text color="dark">
  <h2 id="special">SPECIAL</h2>
</ion-text>

<ion-grid>
  <ion-row>
    <ion-col
      *ngFor="let item of filteredItems"
      [hidden]="item.category !== 'special'"
      size="6"
      size-md="4"
      size-lg="3"
    >
      <ion-card (click)="openFoodDetail(item)">
        <img [src]="item.image" alt="{{ item.name }}" />
        <ion-card-header>
          <ion-card-title>{{ item.name }}</ion-card-title>
          <ion-card-subtitle>Rp {{ item.price | number }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>{{ item.description }}</p>
          <div class="counter" (click)="$event.stopPropagation()">
            <ion-button
              size="small"
              color="danger"
              fill="outline"
              (click)="decrement(item.id)"
              [disabled]="item.count === 0"
            >
              -
            </ion-button>
            <span style="margin: 0 8px;">{{ item.count || 0 }}</span>
            <ion-button
              size="small"
              color="primary"
              fill="outline"
              (click)="increment(item.id)"
            >
              +
            </ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>


<!-- COMBO -->
<ion-text color="dark">
  <h2 id="combo">COMBO</h2>
</ion-text>
<ion-grid>
  <ion-row>
    <ion-col *ngFor="let item of items" [hidden]="item.category !== 'combo'" size="6" size-md="4" size-lg="3">
      <ion-card (click)="openFoodDetail(item)">
        <img [src]="item.image" alt="{{ item.name }}" />
        <ion-card-header>
          <ion-card-title>{{ item.name }}</ion-card-title>
          <ion-card-subtitle>Rp {{ item.price | number }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>{{ item.description }}</p>
          <div class="counter" (click)="$event.stopPropagation()">
            <ion-button
              size="small"
              color="danger"
              fill="outline"
              (click)="decrement(item.id)"
              [disabled]="item.count === 0"
            >
              -
            </ion-button>
            <span style="margin: 0 8px;">{{ item.count || 0 }}</span>
            <ion-button
              size="small"
              color="primary"
              fill="outline"
              (click)="increment(item.id)"
            >
              +
            </ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>

<!-- NASI GORENG -->
<ion-text color="dark">
  <h2 id="nasi">NASI GORENG</h2>
</ion-text>
<ion-grid>
  <ion-row>
    <ion-col *ngFor="let item of items" [hidden]="item.category !== 'nasi'" size="6" size-md="4" size-lg="3">
      
    </ion-col>
  </ion-row>
</ion-grid>

<!-- MIE -->
<ion-text color="dark">
  <h2 id="mie">MIE</h2>
</ion-text>
<ion-grid>
  <ion-row>
    <ion-col *ngFor="let item of items" [hidden]="item.category !== 'mie'" size="6" size-md="4" size-lg="3">
      <ion-card (click)="openFoodDetail(item)">
        <img [src]="item.image" alt="{{ item.name }}" />
        <ion-card-header>
          <ion-card-title>{{ item.name }}</ion-card-title>
          <ion-card-subtitle>Rp {{ item.price | number }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>{{ item.description }}</p>
          <div class="counter" (click)="$event.stopPropagation()">
            <ion-button
              size="small"
              color="danger"
              fill="outline"
              (click)="decrement(item.id)"
              [disabled]="item.count === 0"
            >
              -
            </ion-button>
            <span style="margin: 0 8px;">{{ item.count || 0 }}</span>
            <ion-button
              size="small"
              color="primary"
              fill="outline"
              (click)="increment(item.id)"
            >
              +
            </ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>

  
</ion-content>

<ion-footer *ngIf="totalCount > 0" style="background: transparent; padding: 8px;">
  <ion-toolbar style="
      --background: #f0d8b1; 
      color: black; 
      border-radius: 12px; 
      margin: 0 8px;
  ">
    <ion-title style="font-size: 16px;">
      Checkout ({{ totalCount }} item{{ totalCount > 1 ? 's' : '' }})
    </ion-title>
    <ion-buttons slot="end">
      <ion-button color="black" (click)="goToCheckout()">Checkout</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>


