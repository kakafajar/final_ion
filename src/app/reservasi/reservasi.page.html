<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">RESERVASI</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="main-container">
    <!-- Order List Section -->
    <div class="section-title">ORDER LIST</div>

    <div class="order-item" *ngFor="let item of pesanan">
      <div class="order-item-left">
        <img [src]="item.gambar" alt="Makanan" class="food-image">
        <div class="grey-lines">
          <div class="grey-line"></div>
          <div class="grey-line-short"></div>
        </div>
      </div>
      <div class="order-item-right">
        <div class="item-count">
          <ion-icon name="ellipse" class="black-dot"></ion-icon>
          <span>{{ item.jumlah }}</span>
        </div>
      </div>
    </div>

    <!-- Data Reservasi Section -->
    <div class="data-reservasi">
      <div class="section-title">Data Reservasi</div>

      <ion-item class="custom-input">
        <ion-input [(ngModel)]="formData.namaLengkap" placeholder="Nama Lengkap"></ion-input>
      </ion-item>

      <ion-item class="custom-input">
        <ion-input [(ngModel)]="formData.noHP" placeholder="No. HP" type="tel"></ion-input>
      </ion-item>

      <div class="jumlah-orang">
        <div class="label">Jumlah Orang:</div>
        <ion-item class="custom-select">
          <ion-select [(ngModel)]="formData.jumlahOrang" placeholder="Pilih Jumlah Orang" interface="action-sheet">
            <ion-select-option *ngFor="let jumlah of jumlahOrangOptions" [value]="jumlah">{{ jumlah }}</ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <div class="pilih-meja">
        <div class="label">Pilih Meja:</div>
        <div class="meja-options">
          <ion-radio-group [(ngModel)]="formData.lokasiMeja">
            <div class="meja-option" [class.selected]="formData.lokasiMeja === 'Di Luar'">
              <ion-radio value="Di Luar"></ion-radio>
              <span>Di Luar</span>
            </div>
            <div class="meja-option" [class.selected]="formData.lokasiMeja === 'Di Dalam'">
              <ion-radio value="Di Dalam"></ion-radio>
              <span>Di Dalam</span>
            </div>
          </ion-radio-group>
        </div>
      </div>

      <div class="status-meja">
        <div class="label">Status Meja:</div>
        <div class="status-indicator">
          <div class="dot" [ngClass]="{'available': statusMeja === 'Tersedia', 'unavailable': statusMeja !== 'Tersedia'}"></div>
          <span>{{ statusMeja }}</span>
        </div>
      </div>

      <!-- Status Meja Tooltip -->
      <div class="status-tooltip">
        <div class="status-item">
          <div class="dot available"></div>
          <span>Tersedia</span>
        </div>
        <div class="status-item">
          <div class="dot unavailable"></div>
          <span>Tidak Tersedia</span>
        </div>
      </div>
    </div>

    <!-- Payment Detail Section -->
    <div class="payment-section">
      <div class="section-title">PAYMENT DETAIL</div>

      <div class="payment-method" (click)="pilihMetodePembayaran()">
        <ion-icon name="card-outline"></ion-icon>
        <span class="payment-text">select payment method</span>
        <span class="select-text">select</span>
      </div>

      <div class="payment-info">
        <div class="payment-lines">
          <div class="payment-line"></div>
          <div class="payment-line"></div>
          <div class="payment-line"></div>
        </div>
        <div class="payment-lines">
          <div class="payment-line"></div>
          <div class="payment-line"></div>
        </div>
      </div>
    </div>

    <!-- Total Section -->
    <div class="total-section">
      <div class="total-label">TOTAL</div>
      <div class="total-price">{{ totalHarga }}</div>
    </div>

    <ion-button expand="block" class="submit-button" (click)="kirimReservasi()">
      PESAN SEKARANG
    </ion-button>
  </div>
</ion-content>
